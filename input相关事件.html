<html xmlns="http://www.w3.org/1999/xhtml"> 
<head> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" /> 
<title>无标题文档</title> 
<script type="text/javascript" src="jquery.js"></script> 
</head> 
 
<body> 

<button onclick="btn(this)" id="button" style="width: 150px;">获取验证码</button>

<div>
	<span>价格：<span id="money">10</span></span>
	    <input type="button" value="-" id="subtraction" onclick="subtraction()"></input>
	    <input type="text" value="1" id="number" onBlur="number()"></input>
	    <input type="button" value="+" id="add" onclick="add()"></input>
	<span>总价：<span id="allmoney"></span></span>
</div>

<script type="text/javascript"> 
 //倒计时
var  num = 60;
function btn(val) {
	if (num == 0) {
		val.removeAttribute("disabled");
		$("#button").text("获取验证码");
		num = 60;
	}else{
		val.setAttribute("disabled",true);                       
		$("#button").text("下次点击还剩"+ num +"秒");
		num--;
	}
	setTimeout(function() {
		btn(val)
	},1000)
}


		//监听input变化
     	$('#number').bind('input propertychange', function(){  
      		allmoneye();
   		});   	
		//减
		function subtraction(){
            //获取-号按钮
            var subtraction = document.getElementById("subtraction");
            //获取文本框
            var number = document.getElementById("number");
            if (number.value<=1) {
                //如果文本框的值小于1,则设置值为1
                number.value = 1;
            }else {
                number.value = number.value - 1;
            }
            allmoneye()
        }

        //失去焦点
        function number(){
            var number = document.getElementById("number");
            var value = number.value;
            //如果文本值为空,设置为1
            if (value=="") {
                number.value = 1;
            }
            //如果文本值为非纯数字,设置为1
            //isNaN()是否为非法数字
            if (isNaN(value)) {
                number.value = 1;
            }
            //如果文本值小于1,设置为1
            if (parseInt(value)<=1) {
                number.value = 1;
            }
        }
        //加
        function add(){
            var add = document.getElementById("add");
            var number = document.getElementById("number");
            //parseInt() 将数值型字符串转换为数值
            number.value = parseInt(number.value)+1;
            allmoneye()
        }
        //计算
        function allmoneye() {
        	var money = document.getElementById("money");
			var allmoney = document.getElementById("allmoney");
			var number = document.getElementById("number");
        	allmoney.innerHTML= parseInt(number.value)*parseInt(money.innerHTML);
        }
        allmoneye();
</script> 
</body> 
</html>